# Project MahjongCalculator Ver 0.1



## 引言

> ​		本人在去年年末打麻将的时候，发现了一个非常棘手的问题——线下面麻的时候，尤其是打一些不那么流行的规则比如各地方麻将时，缺少集成的台数计算工具。目前已有的台数计算工具，其流畅度和使用逻辑有些过于复杂，有些UI过于老旧，稍好一些的，也会出现台数计算错误的问题，包括但不限于重复计算同类役种，或是算入上位役种的同时，并未按照规则不计入下位役种导致的复合算番，或者并未注意役种完成条件（比如日麻的立直限定，国标麻将的门清限定等），而直接按照牌型计入相应役种的情况。这些问题虽说并非大过，能找到一个可以承担计算番数任务的程序已实数不易，但是我还是希望能创造出这样的一个工具，它可以集成大多数流行麻将的规则（比如日麻、国标、广东、川麻等各地玩法），并承担一个提供线下麻将结算时计算点数或者麻将比赛时计算分数和排名的功能。
>
> ​		此外，我们也希望这一程序能提供一些额外的功能，包括但不限于国标麻将的起胡台数刷题，日麻的符数计算及青天井规则，何切问题（感觉这个很难做到，暂定）等一系列在麻将过程中遇到的问题以及与番数计算强相关的功能，最终集成开发得到一个能胜任多种泛番数计算的工具。

## 基本信息

1. 程序设计语言：`Python 3.12` （备注：版本亟待最终协调，但最好不要低于 `3.9`）
2. 图形化操作界面包：`Qt` 或者 `Tkinter`(是`python`自带的) （备注：最终的`Qt`版本需要一致）
3. 版本发布和计划文件：通常成品使用 `pdf` 发布，建议使用 `markdown` 格式，接受一切格式
4. 沟通方式和合作事宜：可以尝试使用 `github` ，目前我还没主要使用。

## 程序功能

### 1. 主要功能：麻将番数（台数）计算

**基础功能**：提供至少一种的主流麻将番数计算功能，包括但不限于国标麻将/立直麻将

以下列举了一些希望实现的主流麻将计算：国标麻将，立直麻将（日麻），广东麻将，台湾麻将，四川麻将等各地麻将，甚至可以包括美欧麻将，不过我们大概也就写两三个，完全搞懂规则也很困难

### 2.附加功能：台数算法相关功能

1. **麻将起胡台数判断**：

   > 游玩立直麻将的时候，我的小伙伴们总喜欢玩四番缚（起胡台数 $4$）的对局，但是我发现我一关闭游戏内的提醒，大家就不知道能不能胡了。

   ​		国标麻将要求起胡台数是 $8$ 台，国标麻将的简化规则要求起胡台数是 $6$ 台（而且目前还没有相应的计算软件，是一个完全新的领域），立直麻将（日麻）要求的起胡台数一般是 $1$ 台，当然所有麻将线下游玩都可以自定义起胡台数。

   ​		我们希望实现的功能是：随机给出一个可以胡牌的麻将牌型，向使用本程序起胡台数判断功能的用户询问在相应起胡台数下能否胡牌，或者这副牌的番数是多少这两种功能。进一步的，本功能还可以结合询问能否胡牌一起，询问在相应起胡台数限制下听多少张牌的功能（进阶功能，仅为设想）

2. **牌型听牌种数计算/问题**

3. **日本麻将符数计算+台数计算；得分计算，是否使用青天井规则**

4. **何切问题**

5. **役名番数查表功能**

6. 还有很多可以加入的小功能（降低我们语法树的查重度(bushi)）

### 一些备注

1. 个人 `IDLE` 版本：`Pycharm 2024.1` ，或 `VSCode`  环境，其各自的优点如下
   1. `VSCode` 集成工具多，方便使用，轻量化，耗电少，定制感强
   2. `Pycharm` 编译检查错误更专业，环境配置简单，代码配色更好看(bushi)

样例亟待补充

